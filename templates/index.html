{% extends "base.html" %}

{% block content %}
<div class="container background-home w-auto g-0 h-100" style="margin-bottom: 100px">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div id="carouselExampleAutoplaying" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner col-md-4">
                    {% for review in review_list %}
                    <a href="{% url 'single_review' review.slug %}">
                        <div class="carousel-item card col-md-12 mt-2" data-bs-interval="4000" style="height: 24rem;">
                            <div class="row no-gutters" style="height: 100%;">
                                <div class="col-md-6">
                                    <div class="image-container position-relative h-100">
                                        {% if "placeholder" in review.movie_poster.url %}
                                        <img src="https://res.cloudinary.com/dqj8alsys/image/upload/v1678793974/defaultimage_kuoqah.jpg" class="d-block position-absolute h-100 mx-auto my-auto" alt="Default image" aria-label="Default image" style="max-width: 100%;">
                                        {% else %}
                                        <img src="{{ review.movie_poster.url }}" class="d-block position-absolute h-100 mx-auto my-auto" alt="an image of {{ review.title }} poster" style="max-width: 100%;">
                                        {% endif %}
                                        <div class="image-flash position-absolute w-50">
                                            <p class="author">Author: {{ review.author }}</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card-body h-100">
                                        <h3 class="card-title">{{ review.title }}</h3>
                                        <p class="card-text">{{ review.excerpt | truncatechars:200 }}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                    {% endfor %}
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon carousel-controls" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleAutoplaying" data-bs-slide="next">
                    <span class="carousel-control-next-icon carousel-controls" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </div>
    </div>
    <div class="row justify-content-around mt-3">
        <div class="col-md-6 org-describe card border-0">
            <p class="info-home p-3 fs-4 text-center">Welcome to our movie review website! Here, you'll find insightful and engaging
                reviews of the latest films, as well as classics from the past. We are relying on our
                dedicated users to providing thoughtful and honest critiques that will help you make informed decisions
                about what to watch next. Do no hesitate to sign up and join the community of reviewers
            </p>
        </div>
        <div class="col-md-6 card">
            <img src="https://res.cloudinary.com/dqj8alsys/image/upload/v1678801922/pexels-l%C3%AA-minh-3062553_bnnliw.jpg" class="img-fluid border-0" style="max-height: 500px; width: auto;" alt="">
        </div>
    </div>
</div>
<script>
    let firstItem = document.querySelector('.carousel-item');

    firstItem.classList.add('active');
</script>

{% endblock %}